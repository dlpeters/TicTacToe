<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Tic-Tac-Toe</title>

    <style>
        canvas {
            border: 1px solid #000;
            position: absolute;
            margin: auto;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
    </style>


    <script>
        var canvas, ctx;
        var data;

        window.onload = function main() {
            canvas = document.createElement("canvas");
            canvas.width = canvas.height = 200;
            ctx = canvas.getContext("2d");

            document.body.appendChild(canvas);

            init();
            tick();

        }

        function init() {
            data = new Tile(20, 20);

        }

        function tick() {
            window.requestAnimationFrame(tick);

            update();
            render();
        }

        function update() {

        }

        function render() {
            data.draw(ctx);

        }

        function Tile(x, y) {
            var x = x, y = y;
            var tile = Tile.BLANK;

            if (tile == null) {
                // create second canvas
                var _c = document.createElement("canvas");
                _c.width = _c.height = 100;

                _ctx = _c.getContext("2d");

                _ctx.fillStyle = "skyblue";

                // Blank
                _ctx.fillRect(0, 0, 100, 100);
                Tile.BLANK = new Image();
                Tile.BLANK.src = _c.toDataURL();
                // base 64 string representation of the data
                // save state of canvas at a particular moment

                // Nought
                _ctx.fillRect(0, 0, 100, 100);

                // draw a circle within the tile
                _ctx.beginPath();
                // center of circle in middle of tile
                _ctx.arc(50, 50, 30, 0, 2 * Math.PI);
                _ctx.stroke();

                Tile.NOUGHT = new Image();
                Tile.NOUGHT.src = _c.toDataURL();

                tile = Tile.NOUGHT;

            }

            this.update = function () {

            }
            this.draw = function (ctx) {
                ctx.drawImage(tile, x, y);

            }

        }


    </script>
</head>
<body>

</body>
</html>